(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55],{775:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs",function(){return n(9427)}])},6171:function(e,t,n){"use strict";n.d(t,{ON:function(){return i},wS:function(){return r},a$:function(){return a}});var r={};n.r(r),n.d(r,{getBlogBySlug:function(){return v},getBlogs:function(){return u},getListings:function(){return d},getSlugs:function(){return m},postBlog:function(){return f}});var a={};n.r(a),n.d(a,{postComment:function(){return g}});var i={};n.r(i),n.d(i,{login:function(){return p},validate:function(){return b}});var o=n(9669),c=[{createdAt:"THE BOT ERA",description:"Cannot reach the server at this moment. Please try again later!",comments:[{name:"Server Bot",comment:"Oh Snap! Server Under Maintainance!",createdAt:"THE BOT ERA!"}]}],s=n.n(o)().create({baseURL:"http://ec2-3-110-191-56.ap-south-1.compute.amazonaws.com:3000"});s.interceptors.response.use((function(e){var t=e.data;return{data:null===t||void 0===t?void 0:t.data,error:!1}}),(function(e){return console.log("ERROR : ",e.config.url),(void 0===(t=e.config.url)?"":t).includes("blogs")?{data:c}:{data:null,error:!0};var t}));var l=s,u=function(){return l.get("/blogs")},d=function(){return l.get("/slugs-titles")},m=function(){return l.get("/slugs")},f=function(e){var t=e.description,n=e.title,r=e.token;return l.post("/blogs",{description:t,title:n},{headers:{Authorization:"Bearer "+r}})},v=function(e){return l.get("/blog/"+e)},g=function(e){l.post("/comment",e)},p=function(e){return l.post("/manage/api/v1/signin",e)},b=function(e){return l.post("/manage/api/v1/validateRequest",e,{headers:{Authorization:"Bearer "+e}})}},7020:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r={};n.r(r),n.d(r,{getTimeStamp:function(){return m}});var a=n(5666),i=n.n(a),o=n(5893),c=n(7294),s=n(6483),l=n.n(s),u=n(6171),d=function(e){var t=e.item,n=e.index,r=e.blogUtil,a=e.style;return(0,o.jsxs)("div",{className:"".concat(a.cB," cB"),children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-9",children:(0,o.jsx)("h6",{children:t.name})}),(0,o.jsx)("div",{className:"col-3 ".concat(a.commentDate),children:(0,o.jsx)("abbr",{title:t.createdAt,className:a.created,children:(0,o.jsx)("p",{children:r.getTimeStamp(t.createdAt)})})})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-10",children:(0,o.jsx)("p",{children:t.comment})})})]},"comm".concat(n))},m=function(e){if(!e||""==e)return"just now";var t=new Date;if(t.getUTCFullYear()!==Number(e.slice(0,4))){var n=t.getFullYear()-Number(e.slice(0,4));return 1===n?"1 year ago":"".concat(n," years ago")}if(t.getUTCMonth()+1!==Number(e.slice(5,7))){var r=t.getMonth()+1-Number(e.slice(5,7));return 1===r?"1 month ago":"".concat(r," months ago")}if(t.getUTCDate()!==Number(e.slice(8,10))){var a=t.getDate()-Number(e.slice(8,10));return 1===a?"1 day ago":"".concat(a," days ago")}if(t.getUTCHours()!==Number(e.slice(11,13))){var i=t.getHours()-Number(e.slice(11,13));return 1===i?"1 hour ago":"".concat(i," hours ago")}return"few minutes ago"};function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=function(e){var t=e.id,n=e.index,a=e.description,s=e.timestamp,p=e.comments,b=e.title,h=(0,c.useState)({name:"",description:""}),x=h[0],j=h[1],y=(0,c.useState)([]),N=y[0],_=y[1],w=(0,c.useState)(!1),B=(w[0],w[1]);(0,c.useEffect)((function(){_(g(p))}),[]);var S,E=function(e){var t=e.target.name,n=e.target.value;j(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}({},x,v({},t,n)))},O=(S=i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),n.preventDefault(),r={id:t,name:x.name,comment:x.description},e.next=6,u.a$.postComment(r);case 6:_((function(e){return g(e).concat([r])})),B(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),alert("An error occured. Couldn't complete the transaction. Try again later."),console.log(e.t0),B(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=S.apply(e,t);function i(e){f(a,n,r,i,o,"next",e)}function o(e){f(a,n,r,i,o,"throw",e)}i(void 0)}))});return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:"jumbotron ".concat(l().blog),children:[(0,o.jsx)("h1",{children:b}),(0,o.jsx)("div",{className:"markupP",dangerouslySetInnerHTML:{__html:a}}),(0,o.jsxs)("div",{className:l().bF,children:[(0,o.jsx)("p",{children:(0,o.jsxs)("a",{href:"#comments".concat(n),"data-toggle":"collapse",role:"button","aria-expanded":"false","aria-controls":"collapseExample",style:{cursor:"pointer"},children:["Comments(",N.length,")"]})}),(0,o.jsx)("abbr",{title:s,className:l().created,children:(0,o.jsxs)("p",{children:["Blog posted ",m(s)]})})]}),(0,o.jsxs)("div",{className:"collapse",id:"comments".concat(n),children:[(0,o.jsxs)("form",{className:"row row-cols-lg-auto g-3 align-items-center ".concat(l().cFM),onSubmit:function(e){return O(e)},children:[(0,o.jsx)("div",{className:"col-12",children:(0,o.jsx)("div",{className:"input-group",children:(0,o.jsx)("input",{type:"text",className:"form-control",id:"description",placeholder:"Make a comment...",name:"description",required:!0,onChange:function(e){return E(e)}})})}),(0,o.jsx)("div",{className:"col-8 ".concat(l().fB),children:(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter Name",name:"name",required:!0,onChange:function(e){return E(e)}}),(0,o.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Submit"})]})})]}),0!==N.length&&(0,o.jsx)("div",{children:N.map((function(e,t){return(0,o.jsx)(d,{item:e,index:t,blogUtil:r,style:l()})}))})]})]})]},t)}},9427:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(5666),a=n.n(r),i=n(5893),o=n(7294),c=n(6968),s=n(6171),l=(n(7020),n(6483)),u=n.n(l),d=function(e){var t=e.id,n=e.title,r=(0,o.useState)(!1);r[0],r[1];return(0,i.jsx)("div",{className:u().listingBox,children:(0,i.jsx)("p",{children:n})},t)},m=n(1163);function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}var v,g=function(e){var t=e.data,n=(0,m.useRouter)(),r=(0,o.useState)(!0),a=r[0],s=r[1];(0,o.useEffect)((function(){s(!1)}),[]);var l=function(e){"private"==e?(document.getElementById("public").classList.remove("active"),document.getElementById("publictab").classList.remove("active")):(document.getElementById("private").classList.remove("active"),document.getElementById("privatetab").classList.remove("active")),document.getElementById(e).classList.add("active"),document.getElementById("".concat(e,"tab")).classList.add("active")};return a?(0,i.jsx)("div",{className:u().loading,children:(0,i.jsx)(c.Z,{animation:"grow"})}):(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"container ".concat(u().blogs_main),children:[(0,i.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsx)("button",{className:"nav-link active",id:"public","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true",onClick:function(){return l("public")},children:"Public"})}),(0,i.jsx)("li",{className:"nav-item",role:"presentation",children:(0,i.jsx)("button",{className:"nav-link",id:"private","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false",onClick:function(){return l("private")},children:"Private"})})]}),(0,i.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[(0,i.jsx)("div",{className:"tab-pane fade show active",id:"publictab",role:"tabpanel","aria-labelledby":"public",children:(0,i.jsx)("div",{className:u().bl,children:t.map((function(e,t){return(0,i.jsx)("div",{onClick:function(t){return r=e.slug,void n.push("/blog/"+r);var r},children:(0,i.jsx)(d,{id:e.slug,title:e.title})},e.slug)}))})}),(0,i.jsx)("div",{className:"tab-pane fade show",id:"privatetab",role:"tabpanel","aria-labelledby":"private",children:(0,i.jsx)("div",{className:"jumbotron ".concat(u().bl),children:(0,i.jsx)("p",{style:{textAlign:"center"},children:"No Private Blogs Yet."})})})]})]})})};g.getInitialProps=(v=a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.wS.getListings();case 2:return n=e.sent.data,e.abrupt("return",{data:n});case 4:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=v.apply(e,t);function i(e){f(a,n,r,i,o,"next",e)}function o(e){f(a,n,r,i,o,"throw",e)}i(void 0)}))});var p=g},6483:function(e){e.exports={loading:"blogs_loading__0M_cf",blogs_main:"blogs_blogs_main__BiQLr",blog:"blogs_blog__oeFX0",commentDate:"blogs_commentDate__3lz6s",bl:"blogs_bl__z1p3U",bF:"blogs_bF__gSaq_",created:"blogs_created__YGRcd",cB:"blogs_cB__tZr8x",cFM:"blogs_cFM__T4m6f",fB:"blogs_fB__XYEcD",listingBox:"blogs_listingBox__rOQXh"}},6968:function(e,t,n){"use strict";var r=n(7462),a=n(3366),i=n(4036),o=n.n(i),c=n(7294),s=n(6792),l=["bsPrefix","variant","animation","size","children","as","className"],u=c.forwardRef((function(e,t){var n=e.bsPrefix,i=e.variant,u=e.animation,d=e.size,m=e.children,f=e.as,v=void 0===f?"div":f,g=e.className,p=(0,a.Z)(e,l),b=(n=(0,s.vE)(n,"spinner"))+"-"+u;return c.createElement(v,(0,r.Z)({ref:t},p,{className:o()(g,b,d&&b+"-"+d,i&&"text-"+i)}),m)}));u.displayName="Spinner",t.Z=u},6792:function(e,t,n){"use strict";n.d(t,{vE:function(){return i}});var r=n(7294),a=r.createContext({});a.Consumer,a.Provider;function i(e,t){var n=(0,r.useContext)(a);return e||n[t]||t}},4036:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},7462:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[669,774,888,179],(function(){return t=775,e(e.s=t);var t}));var t=e.O();_N_E=t}]);