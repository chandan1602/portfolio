(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{4163:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/[slug]",function(){return n(7602)}])},6171:function(e,t,n){"use strict";n.d(t,{ON:function(){return a},wS:function(){return r},a$:function(){return o}});var r={};n.r(r),n.d(r,{getBlogBySlug:function(){return f},getBlogs:function(){return u},getListings:function(){return d},getSlugs:function(){return m},postBlog:function(){return g}});var o={};n.r(o),n.d(o,{postComment:function(){return p}});var a={};n.r(a),n.d(a,{login:function(){return h},validate:function(){return b}});var c=n(9669),i=[{createdAt:"THE BOT ERA",description:"Cannot reach the server at this moment. Please try again later!",comments:[{name:"Server Bot",comment:"Oh Snap! Server Under Maintainance!",createdAt:"THE BOT ERA!"}]}],s=n.n(c)().create({baseURL:"http://ec2-3-110-191-56.ap-south-1.compute.amazonaws.com:3000"});s.interceptors.response.use((function(e){var t=e.data;return{data:null===t||void 0===t?void 0:t.data,error:!1}}),(function(e){return console.log("ERROR : ",e.config.url),(void 0===(t=e.config.url)?"":t).includes("blogs")?{data:i}:{data:null,error:!0};var t}));var l=s,u=function(){return l.get("/blogs")},d=function(){return l.get("/slugs-titles")},m=function(){return l.get("/slugs")},g=function(e){var t=e.description,n=e.title,r=e.token;return l.post("/blogs",{description:t,title:n},{headers:{Authorization:"Bearer "+r}})},f=function(e){return l.get("/blog/"+e)},p=function(e){l.post("/comment",e)},h=function(e){return l.post("/manage/api/v1/signin",e)},b=function(e){return l.post("/manage/api/v1/validateRequest",e,{headers:{Authorization:"Bearer "+e}})}},7020:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r={};n.r(r),n.d(r,{getTimeStamp:function(){return m}});var o=n(5666),a=n.n(o),c=n(5893),i=n(7294),s=n(6483),l=n.n(s),u=n(6171),d=function(e){var t=e.item,n=e.index,r=e.blogUtil,o=e.style;return(0,c.jsxs)("div",{className:"".concat(o.cB," cB"),children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-9",children:(0,c.jsx)("h6",{children:t.name})}),(0,c.jsx)("div",{className:"col-3 ".concat(o.commentDate),children:(0,c.jsx)("abbr",{title:t.createdAt,className:o.created,children:(0,c.jsx)("p",{children:r.getTimeStamp(t.createdAt)})})})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-10",children:(0,c.jsx)("p",{children:t.comment})})})]},"comm".concat(n))},m=function(e){if(!e||""==e)return"just now";var t=new Date;if(t.getUTCFullYear()!==Number(e.slice(0,4))){var n=t.getFullYear()-Number(e.slice(0,4));return 1===n?"1 year ago":"".concat(n," years ago")}if(t.getUTCMonth()+1!==Number(e.slice(5,7))){var r=t.getMonth()+1-Number(e.slice(5,7));return 1===r?"1 month ago":"".concat(r," months ago")}if(t.getUTCDate()!==Number(e.slice(8,10))){var o=t.getDate()-Number(e.slice(8,10));return 1===o?"1 day ago":"".concat(o," days ago")}if(t.getUTCHours()!==Number(e.slice(11,13))){var a=t.getHours()-Number(e.slice(11,13));return 1===a?"1 hour ago":"".concat(a," hours ago")}return"few minutes ago"};function g(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,o)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=function(e){var t=e.id,n=e.index,o=e.description,s=e.timestamp,h=e.comments,b=e.title,v=(0,i.useState)({name:"",description:""}),_=v[0],x=v[1],j=(0,i.useState)([]),N=j[0],y=j[1],w=(0,i.useState)(!1),S=(w[0],w[1]);(0,i.useEffect)((function(){y(p(h))}),[]);var B,O=function(e){var t=e.target.name,n=e.target.value;x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},_,f({},t,n)))},E=(B=a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),n.preventDefault(),r={id:t,name:_.name,comment:_.description},e.next=6,u.a$.postComment(r);case 6:y((function(e){return p(e).concat([r])})),S(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),alert("An error occured. Couldn't complete the transaction. Try again later."),console.log(e.t0),S(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=B.apply(e,t);function a(e){g(o,n,r,a,c,"next",e)}function c(e){g(o,n,r,a,c,"throw",e)}a(void 0)}))});return(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("br",{}),(0,c.jsxs)("div",{className:"jumbotron ".concat(l().blog),children:[(0,c.jsx)("h1",{children:b}),(0,c.jsx)("div",{className:"markupP",dangerouslySetInnerHTML:{__html:o}}),(0,c.jsxs)("div",{className:l().bF,children:[(0,c.jsx)("p",{children:(0,c.jsxs)("a",{href:"#comments".concat(n),"data-toggle":"collapse",role:"button","aria-expanded":"false","aria-controls":"collapseExample",style:{cursor:"pointer"},children:["Comments(",N.length,")"]})}),(0,c.jsx)("abbr",{title:s,className:l().created,children:(0,c.jsxs)("p",{children:["Blog posted ",m(s)]})})]}),(0,c.jsxs)("div",{className:"collapse",id:"comments".concat(n),children:[(0,c.jsxs)("form",{className:"row row-cols-lg-auto g-3 align-items-center ".concat(l().cFM),onSubmit:function(e){return E(e)},children:[(0,c.jsx)("div",{className:"col-12",children:(0,c.jsx)("div",{className:"input-group",children:(0,c.jsx)("input",{type:"text",className:"form-control",id:"description",placeholder:"Make a comment...",name:"description",required:!0,onChange:function(e){return O(e)}})})}),(0,c.jsx)("div",{className:"col-8 ".concat(l().fB),children:(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter Name",name:"name",required:!0,onChange:function(e){return O(e)}}),(0,c.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Submit"})]})})]}),0!==N.length&&(0,c.jsx)("div",{children:N.map((function(e,t){return(0,c.jsx)(d,{item:e,index:t,blogUtil:r,style:l()})}))})]})]})]},t)}},7602:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return c}});var r=n(5893),o=(n(7294),n(1163)),a=n(7020),c=!0;t.default=function(e){return(0,o.useRouter)().isFallback?(0,r.jsx)("h1",{children:"Loading..."}):(0,r.jsx)(a.Z,{id:e.data._id,description:e.data.description,comments:e.data.comments,timestamp:e.data.createdAt,title:e.data.title},e.data._id)}},6483:function(e){e.exports={loading:"blogs_loading__0M_cf",blogs_main:"blogs_blogs_main__BiQLr",blog:"blogs_blog__oeFX0",commentDate:"blogs_commentDate__3lz6s",bl:"blogs_bl__z1p3U",bF:"blogs_bF__gSaq_",created:"blogs_created__YGRcd",cB:"blogs_cB__tZr8x",cFM:"blogs_cFM__T4m6f",fB:"blogs_fB__XYEcD",listingBox:"blogs_listingBox__rOQXh"}}},function(e){e.O(0,[669,774,888,179],(function(){return t=4163,e(e.s=t);var t}));var t=e.O();_N_E=t}]);